!function(a){a.fn.parallax_content=function(){a(window).width();return this.each(function(n){var t=a(this).height();a(this).children().wrapAll('<div class="parallax-container" style="height:'+t+'px"><div class="parallax-parent"><div class="parallax-content"></div>');var i=a(this);function e(n){var e=i.height(),o=i.offset().top+e,l=i.offset().top,r=a(window).scrollTop(),s=window.innerHeight,h=(r+s-l)/(e+s),c=Math.round(300*h)-50;(n&&(a(".parallax-container",i).height("auto"),a(".parallax-parent",i).addClass("temp-parent").removeClass("parallax-parent"),a(".parallax-content",i).addClass("temp-content").removeClass("parallax-content"),t=a(".parallax-container",i).height(),a(".parallax-container",i).css("height",t+"px"),a(".temp-parent",i).addClass("parallax-parent"),a(".temp-content",i).addClass("parallax-content")),o>r&&l<r+s)&&((c=(r-l)/2)<0&&(c=0),a(".parallax-content",i).css("transform","translate3D(-50%,"+c+"px, 0)"))}i.children("img").one("load",function(){e(!1)}).each(function(){this.complete&&a(this).load()}),a(window).scroll(function(){a(window).width(),e(!1)}),a(window).resize(function(){a(window).width(),e(!0)})})},a.fn.parallax=function(){var n=a(window).width();return this.each(function(t){var i=a(this);function e(t){var e;e=n<601?i.height()>0?i.height():i.children("img").height():i.height()>0?i.height():500;var o=i.children("img").first(),l=o.height()-e,r=i.offset().top+e,s=i.offset().top,h=a(window).scrollTop(),c=window.innerHeight,d=(h+c-s)/(e+c),p=Math.round(l*d)-50;t&&o.css("display","block"),r>h&&s<h+c&&o.css("transform","translate3D(-50%,"+p+"px, 0)")}i.addClass("parallax"),i.children("img").one("load",function(){e(!0)}).each(function(){}),a(window).scroll(function(){n=a(window).width(),e(!1)}),a(window).resize(function(){n=a(window).width(),e(!1)})})}}(jQuery);
